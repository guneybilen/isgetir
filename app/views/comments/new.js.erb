$("<%= escape_javascript render(:file => 'comments/new.html.erb') %>").insertAfter('#comments');
$('#new_comment').slideDown();



// asagidaki code surdan alindi:
// http://blog.freelancer-id.com/2009/03/26/scroll-window-smoothly-in-jquery/
$('html').animate({
scrollTop: $("#new_comment").offset().top
},{
     duration: 1000
}, 2000);
// .offset() = Get the current coordinates of the first element
// in the set of matched elements, relative to the document.
// api.jquery.com 'dan



$('#new_comment_cancel').live('click', function() {

    $('#new_comment').slideUp();
    $('#new_comment_link').show();
    $("html").scrollTop(0);
});

var batin = $("input:submit");
batin.button();

batin.live ('click',  function() {
    batin.attr("disabled", true);
});


 var taym1 = new Date();
 taym1 = taym1.getTime();

  $('.comment_submit').live('click', function(){
        var taym3 = new Date();
        taym3 = taym3.getTime();
        var req = requirements(taym3);
        if(!req){
            $('.comment_submit').button('enable');
            return false;
        }
    });

function requirements(taym){
       if($('.hidden_field_tag').val() !=''){
         alert("Code 999");
         return false;
       }


       if(taym1+10>taym){
         alert('Code 888');
         return false;
       }

       return true;
}