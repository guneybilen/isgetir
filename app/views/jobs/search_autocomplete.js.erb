

  var myArray= "<%=  @jobs %>";

  myArray=myArray.replace(/&quot;/gi,"");
  myArray=myArray.replace(/\./gi,"");
  myArray=myArray.replace(/\[/gi,"");
  myArray=myArray.replace(/\]/gi,"");
  myArray=myArray.replace(/,\s+/gi,",");
  myArray=myArray.split(',');
//myArray = myArray.slice(0);
//myArray = $.makeArray(myArray); //not needed
//alert(myArray);


//$.each(myArray, function(key, value)
//{
//  value = value.replace("Ankara","xx");
//    alert(value);
//}
//);

//if ( $("#search_form_text_field").val().length > 0 )
//{

    $("#search_form_text_field").autocomplete
    (
        {
            source: function(request, response) {
                   var results = $.ui.autocomplete.filter(myArray, request.term);

                   response(results.slice(0, 10));
            },
            dataType: "json",
            // minLength: 1 demekle 1 characterden sonra aramaya basla demek oluyor
            minLength: 1,
            delay: 400,
            highlight: true,
            max: 5,
            cache: false,
//            focus: function(event,ui){
//
//            }
//              ,
            select: function(event, ui) {
//
//              $('#search_form_submit').click();

             }

        }
    );








